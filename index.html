<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>호마맨 사자성어</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #faf7ef;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 { font-size: 32px; font-weight: 800; margin-bottom: 12px; }
      input, button { border-radius: 10px; border: 1px solid #6b6658; padding: 10px 14px; background: #fcfaf3; }
      .toolbar { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; justify-content: center; }
      .scene { width: 90%; max-width: 640px; height: 320px; perspective: 1000px; }
      .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 22px; box-shadow: 0 12px 28px rgba(0,0,0,0.08), 0 6px 14px rgba(0,0,0,0.05); border: 1px solid #d9cdb7; }
      .card.is-flipped { transform: rotateY(180deg); }
      .card__face {
        position: absolute; inset: 0; backface-visibility: hidden; border-radius: 22px;
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 26px;
        background: linear-gradient(145deg, #fffdf9 0%, #fff8ec 50%, #fef2dc 100%);
        background-image: radial-gradient(rgba(0,0,0,0.02) 0.7px, rgba(0,0,0,0) 0.7px), linear-gradient(10deg, rgba(120,90,60,0.03), rgba(120,90,60,0.01) 40%, rgba(120,90,60,0.04) 80%);
        background-size: 10px 10px, 100% 100%; background-blend-mode: multiply;
      }
      .card__face--back { transform: rotateY(180deg); }
      .navs { display: flex; justify-content: space-between; width: 200px; margin: 10px 0; }
      .muted { opacity: .6; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>🀄 호마맨 사자성어</h1>
    <div class="toolbar">
      <input id="search" placeholder="검색(용어/뜻/유래)" />
      <button id="shuffle">🔀 셔플</button>
      <button id="flip">↩️ 뒤집기</button>
      <label><input type="checkbox" id="soundToggle" checked /> 사운드</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front"></div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">◀</button>
      <button id="next">▶</button>
    </div>
    <div id="meta" class="muted"></div>

    <script>
      // 150개 사자성어 데이터 (학문, 인생, 덕목, 교훈, 처세 등 고르게 구성)
      const idioms = [
  { term: "절차탁마(切磋琢磨)", meaning: "서로 배우며 갈고닦아 향상함.", origin: "시경/예기" },
  { term: "형설지공(螢雪之功)", meaning: "고생하며 학문을 이루는 공.", origin: "진서/수경주" },
  { term: "근묵자흑(近墨者黑)", meaning: "먹을 가까이하면 검어진다(환경의 영향).", origin: "태자소부" },
  { term: "근주자적(近朱者赤)", meaning: "좋은 벗을 가까이하면 붉어진다.", origin: "태자소부" },
  { term: "대기만성(大器晩成)", meaning: "큰 그릇은 늦게 이루어짐.", origin: "노자" },
  { term: "백절불굴(百折不屈)", meaning: "백 번 꺾여도 굽히지 않음.", origin: "후한서" },
  { term: "견리사의(見利思義)", meaning: "이익을 보거든 의로움을 먼저 생각함.", origin: "논어" },
  { term: "견위수명(見危授命)", meaning: "위태로움을 보면 목숨을 바쳐 의를 행함.", origin: "예기" },
  { term: "충언역이(忠言逆耳)", meaning: "충고는 귀에 거슬리나 유익함.", origin: "고사" },
  { term: "정문일침(頂門一鍼)", meaning: "아픈 곳을 찌르는 따끔한 충고.", origin: "고사" },
  { term: "결초보은(結草報恩)", meaning: "죽어서도 은혜를 갚음.", origin: "좌전" },
  { term: "삼고초려(三顧草廬)", meaning: "세 번 찾아가 정성을 다함.", origin: "삼국지" },
  { term: "수오지심(羞惡之心)", meaning: "부끄러움을 아는 마음.", origin: "맹자" },
  { term: "인의예지(仁義禮智)", meaning: "사람됨의 네 덕목.", origin: "유가" },
  { term: "불편부당(不偏不黨)", meaning: "치우치지 않고 당파에 서지 않음.", origin: "사서" },
  { term: "상선약수(上善若水)", meaning: "최고의 선은 물과 같음.", origin: "노자" },
  { term: "명경지수(明鏡止水)", meaning: "밝은 거울·고요한 물 같은 마음.", origin: "장자" },
  { term: "온고지신(溫故知新)", meaning: "옛것을 익혀 새것을 앎.", origin: "논어" },
  { term: "수기치인(修己治人)", meaning: "자기를 닦아 남을 다스림.", origin: "대학" },
  { term: "입신양명(立身揚名)", meaning: "몸을 세워 이름을 떨침.", origin: "사기" },
  { term: "멸사봉공(滅私奉公)", meaning: "사사로움을 버리고 공익을 받듦.", origin: "근대" },
  { term: "염치불감(廉恥不堪)", meaning: "염치에 부끄러워 견디기 어려움.", origin: "사서" },
  { term: "맹모삼천(孟母三遷)", meaning: "교육을 위해 세 번 이사함.", origin: "열녀전" },
  { term: "군자삼락(君子三樂)", meaning: "군자의 세 즐거움.", origin: "맹자" },
  { term: "군자불기(君子不器)", meaning: "군자는 한 가지 그릇에 국한되지 않음.", origin: "논어" },
  { term: "경천애인(敬天愛人)", meaning: "하늘을 공경하고 사람을 사랑함.", origin: "왕양명" },
  { term: "과감단행(果敢斷行)", meaning: "과감히 결단하고 실행함.", origin: "근대" },
  { term: "인과응보(因果應報)", meaning: "원인에 따라 보응이 옴.", origin: "불교" },
  { term: "유지경성(有志竟成)", meaning: "뜻이 있으면 마침내 이룸.", origin: "후한서" },
  { term: "권선징악(勸善懲惡)", meaning: "선을 권하고 악을 벌함.", origin: "유불" },
  { term: "지피지기(知彼知己)", meaning: "상대와 자신을 알면 이김.", origin: "손자병법" },
  { term: "호사다마(好事多魔)", meaning: "좋은 일에는 탈이 많음.", origin: "속담" },
  { term: "우공이산(愚公移山)", meaning: "끈기로 큰일을 이룸.", origin: "열자" },
  { term: "과유불급(過猶不及)", meaning: "지나침은 미치지 못함과 같음.", origin: "논어" },
  { term: "수신제가(修身齊家)", meaning: "몸을 닦고 집안을 다스림.", origin: "대학" },
  { term: "위기일발(危機一髮)", meaning: "몹시 위급한 순간.", origin: "후한서" },
  { term: "권토중래(捲土重來)", meaning: "실패 뒤에 다시 일어남.", origin: "당서" },
  { term: "고진감래(苦盡甘來)", meaning: "고생 끝에 낙이 옴.", origin: "후한서" },
  { term: "견물생심(見物生心)", meaning: "실물을 보면 욕심이 남.", origin: "불전" },
  { term: "금상첨화(錦上添花)", meaning: "좋은 일에 좋은 일이 더함.", origin: "송대" },
  { term: "전화위복(轉禍爲福)", meaning: "재앙이 복으로 바뀜.", origin: "후한서" },
  { term: "칠전팔기(七顚八起)", meaning: "여러 번 넘어져도 일어남.", origin: "일본서기" },
  { term: "자강불식(自強不息)", meaning: "스스로 힘써 쉼이 없음.", origin: "주역" },
  { term: "수수방관(袖手傍觀)", meaning: "팔짱 끼고 보고만 있음.", origin: "사기" },
  { term: "백문불여일견(百聞不如一見)", meaning: "백 번 듣는 것보다 한 번 보는 게 나음.", origin: "한서" },
  { term: "각골난망(刻骨難忘)", meaning: "은혜가 깊어 잊지 못함.", origin: "고사" },
  { term: "감언이설(甘言利說)", meaning: "달콤한 말로 꾀어 속임.", origin: "맹자" },
  { term: "거두절미(去頭截尾)", meaning: "군더더기 빼고 요점만 말함.", origin: "한서" },
  { term: "경거망동(輕擧妄動)", meaning: "경솔히 행동함.", origin: "후한서" },
  { term: "구사일생(九死一生)", meaning: "죽을 고비를 여러 번 넘김.", origin: "사서" },
  { term: "기고만장(氣高萬丈)", meaning: "기세가 대단히 오름.", origin: "삼국지" },
  { term: "기호지세(騎虎之勢)", meaning: "중도에서 그만둘 수 없는 형세.", origin: "후한서" },
  { term: "난공불락(難攻不落)", meaning: "쉽게 함락되지 않음.", origin: "병법" },
  { term: "난형난제(難兄難弟)", meaning: "우열을 가리기 어려움.", origin: "남북조" },
  { term: "누란지위(累卵之危)", meaning: "달걀을 쌓은 듯 매우 위태함.", origin: "한비자" },
  { term: "다다익선(多多益善)", meaning: "많을수록 더 좋음.", origin: "사기" },
  { term: "다재다능(多才多能)", meaning: "재주가 많고 능함.", origin: "한자어" },
  { term: "대동단결(大同團結)", meaning: "큰 뜻 아래 한마음으로 뭉침.", origin: "근현대" },
  { term: "동병상련(同病相憐)", meaning: "같은 처지끼리 서로 동정함.", origin: "삼국지" },
  { term: "동상이몽(同床異夢)", meaning: "겉으론 같으나 속뜻은 다름.", origin: "잡감" },
  { term: "동문서답(東問西答)", meaning: "묻는 말에 동떨어진 대답.", origin: "한서" },
  { term: "마이동풍(馬耳東風)", meaning: "남의 말을 귀담아듣지 않음.", origin: "시경" },
  { term: "막상막하(莫上莫下)", meaning: "차이가 거의 없음.", origin: "송사" },
  { term: "만장일치(滿場一致)", meaning: "모두가 한 뜻으로 찬성함.", origin: "현대" },
  { term: "명실상부(名實相符)", meaning: "이름과 실제가 서로 맞음.", origin: "후한서" },
  { term: "반면교사(反面敎師)", meaning: "남의 실패에서 교훈 얻음.", origin: "사기" },
  { term: "부전자전(父傳子傳)", meaning: "아비의 행동이 아들에게 전해짐.", origin: "속담" },
  { term: "부화뇌동(附和雷同)", meaning: "주견 없이 남을 따름.", origin: "장자" },
  { term: "사면초가(四面楚歌)", meaning: "사방이 적으로 둘러싸임.", origin: "사기" },
  { term: "산전수전(山戰水戰)", meaning: "온갖 어려움을 다 겪음.", origin: "병법" },
  { term: "새옹지마(塞翁之馬)", meaning: "인생의 길흉화복은 예측하기 어려움.", origin: "회남자" },
  { term: "선견지명(先見之明)", meaning: "앞을 내다보는 지혜.", origin: "한서" },
  { term: "설상가상(雪上加霜)", meaning: "엎친 데 덮침.", origin: "시경" },
  { term: "속수무책(束手無策)", meaning: "어찌할 도리가 없음.", origin: "사기" },
  { term: "십중팔구(十中八九)", meaning: "거의 대부분.", origin: "속어" },
  { term: "아전인수(我田引水)", meaning: "자기에게만 이롭게 함.", origin: "맹자" },
  { term: "어부지리(漁夫之利)", meaning: "둘이 다투다 제삼자가 이익 봄.", origin: "전국책" },
  { term: "언행일치(言行一致)", meaning: "말과 행동이 하나로 맞음.", origin: "논어" },
  { term: "오리무중(五里霧中)", meaning: "갈 바를 모르고 헤맴.", origin: "후한서" },
  { term: "우왕좌왕(右往左往)", meaning: "이리저리 허둥댐.", origin: "한서" },
  { term: "유비무환(有備無患)", meaning: "미리 준비하면 근심 없음.", origin: "서경" },
  { term: "유유상종(類類相從)", meaning: "같은 무리끼리 모임.", origin: "한서" },
  { term: "이심전심(以心傳心)", meaning: "말하지 않아도 마음이 통함.", origin: "선종" },
  { term: "이열치열(以熱治熱)", meaning: "같은 성질로 다스림.", origin: "의서" },
  { term: "이목구비(耳目口鼻)", meaning: "사람의 얼굴 생김새.", origin: "한자" },
  { term: "일석이조(一石二鳥)", meaning: "한 번에 두 가지 이익.", origin: "서양격언" },
  { term: "일취월장(日就月將)", meaning: "날로 달로 발전함.", origin: "서경" },
  { term: "작심삼일(作心三日)", meaning: "결심이 오래가지 못함.", origin: "속담" },
  { term: "자업자득(自業自得)", meaning: "자기가 한 대로 얻음.", origin: "불교" },
  { term: "자중지란(自中之亂)", meaning: "같은 편 안에서의 혼란.", origin: "사기" },
  { term: "전전긍긍(戰戰兢兢)", meaning: "두려워 벌벌 떨며 조심함.", origin: "시경" },
  { term: "조삼모사(朝三暮四)", meaning: "본질은 같음을 모르는 어리석음.", origin: "장자" },
  { term: "좌충우돌(左衝右突)", meaning: "이리저리 부딪치며 분주함.", origin: "삼국지" },
  { term: "죽마고우(竹馬故友)", meaning: "어릴 적부터의 벗.", origin: "시경" },
  { term: "중구난방(衆口難防)", meaning: "여러 말이 제각각임.", origin: "명대" },
  { term: "천고마비(天高馬肥)", meaning: "가을 하늘 높고 말 살찜.", origin: "당시" },
  { term: "천우신조(天佑神助)", meaning: "하늘과 신의 도움.", origin: "관용" },
  { term: "침소봉대(針小棒大)", meaning: "작은 일을 크게 과장함.", origin: "속어" },
  { term: "토사구팽(土沙狗烹)", meaning: "쓸 때는 쓰고 버림.", origin: "사기" },
  { term: "파죽지세(破竹之勢)", meaning: "대나무 쪼개듯 거침없이 나아감.", origin: "진서" },
  { term: "표리부동(表裏不同)", meaning: "겉과 속이 다름.", origin: "후한서" },
  { term: "학수고대(鶴首苦待)", meaning: "학처럼 목을 빼고 간절히 기다림.", origin: "시경" },
  { term: "허심탄회(虛心坦懷)", meaning: "숨김없이 솔직함.", origin: "명심보감" },
  { term: "환골탈태(換骨奪胎)", meaning: "완전히 새로워짐.", origin: "송대" },
  { term: "후회막급(後悔莫及)", meaning: "뉘우쳐도 이미 늦음.", origin: "한서" },
  { term: "각주구검(刻舟求劍)", meaning: "융통성 없이 한 방법만 고집함.", origin: "여씨춘추" },
  { term: "과대망상(誇大妄想)", meaning: "터무니없이 스스로를 크게 여김.", origin: "근대" },
  { term: "교언영색(巧言令色)", meaning: "교묘한 말과 얼굴빛으로 남을 속임.", origin: "논어" },
  { term: "난신적자(亂臣賊子)", meaning: "난을 일으킨 신하와 도적.", origin: "사서" },
  { term: "노마지지(老馬之智)", meaning: "늙은 말의 지혜; 경험에서 오는 식견.", origin: "한비자" },
  { term: "누항단표(陋巷簞瓢)", meaning: "가난해도 뜻을 지킴.", origin: "맹자" },
  { term: "단사표음(簞食瓢飮)", meaning: "청빈한 삶.", origin: "논어" },
  { term: "당랑거철(螳螂拒轍)", meaning: "자기 힘을 모르고 강적에 맞섬.", origin: "장자" },
  { term: "도원결의(桃園結義)", meaning: "굳은 의형제의 맹세.", origin: "삼국지" },
  { term: "독야청청(獨也靑靑)", meaning: "남과 달리 홀로 곧음.", origin: "시경" },
  { term: "마부작침(磨斧作針)", meaning: "도끼를 갈아 바늘을 만듦; 끈기.", origin: "신당서" },
  { term: "망양지탄(亡羊之歎)", meaning: "길이 많아 도리어 갈 바 모름.", origin: "열자" },
  { term: "망양지경(望洋之境)", meaning: "자신의 보잘것없음을 느낌.", origin: "장자" },
  { term: "명약관화(明若觀火)", meaning: "불을 보는 듯 분명함.", origin: "송사" },
  { term: "박학다식(博學多識)", meaning: "넓게 배우고 많이 앎.", origin: "논어" },
  { term: "발본색원(拔本塞源)", meaning: "근본을 뽑고 근원을 막음; 폐단을 근절.", origin: "후한서" },
  { term: "백년대계(百年大計)", meaning: "백 년을 내다본 큰 계획.", origin: "서경" },
  { term: "백년해로(百年偕老)", meaning: "부부가 오래도록 함께 늙음.", origin: "시문" },
  { term: "백중지세(伯仲之勢)", meaning: "서로 우열을 가리기 어려움.", origin: "사기" },
  { term: "부귀영화(富貴榮華)", meaning: "부와 귀와 영화.", origin: "한서" },
  { term: "부화자강(扶華自强)", meaning: "허식을 버리고 스스로 강해짐.", origin: "근대" },
  { term: "불광불급(不狂不及)", meaning: "미치지 않으면 미치지 못함(전념 필요).", origin: "논어" },
  { term: "사공이산(沙工移山)", meaning: "사람이 힘을 합치면 산도 옮김.", origin: "속담 한자화" },
  { term: "사사로기(私事牢記)", meaning: "사사로운 일에 매임을 경계.", origin: "관용" },
  { term: "삼인성호(三人成虎)", meaning: "거짓말도 여럿이 말하면 참처럼 됨.", origin: "전국책" },
  { term: "상부상조(相扶相助)", meaning: "서로 도와줌.", origin: "예기" },
  { term: "설위설경(雪慰雪耕)", meaning: "눈 오는 날에도 위로하며 부지런함.", origin: "관용" },
  { term: "수주대토(守株待兔)", meaning: "우연만 기다림; 요행 바람.", origin: "한비자" },
  { term: "수불석권(手不釋卷)", meaning: "손에서 책을 놓지 않음.", origin: "후한서" },
  { term: "순망치한(脣亡齒寒)", meaning: "입술이 없으면 이가 시림; 서로 의존.", origin: "좌전" },
  { term: "시종일관(始終一貫)", meaning: "처음부터 끝까지 변함없음.", origin: "논어" },
  { term: "신토불이(身土不二)", meaning: "몸과 흙은 둘이 아님; 지역성 중시.", origin: "현대" },
  { term: "십시일반(十匙一飯)", meaning: "여럿이 조금씩 힘을 보탬.", origin: "속담" },
  { term: "아비규환(阿鼻叫喚)", meaning: "아비지옥의 비명; 참혹한 상황.", origin: "불경" },
  { term: "악전고투(惡戰苦鬪)", meaning: "몹시 힘든 싸움.", origin: "근대" },
  { term: "약자생존(弱者生存)", meaning: "연약해 보여도 끝내 살아남음(역설).", origin: "관용" },
  { term: "양두구육(羊頭狗肉)", meaning: "겉과 속이 다름; 표리부동.", origin: "송서" },
  { term: "양약고구(良藥苦口)", meaning: "좋은 약은 입에 쓰다.", origin: "한서" },
  { term: "어부지리(漁父之利)", meaning: "분쟁 속 제삼자의 이익.", origin: "전국책" },
  { term: "언필칭(言必稱)", meaning: "입만 열면 늘 들먹임을 경계.", origin: "사기" },
  { term: "연목구어(緣木求魚)", meaning: "헛된 일에 힘씀.", origin: "맹자" },
  { term: "염량세태(炎凉世態)", meaning: "권세 따라 변하는 세상 인심.", origin: "명대" },
  { term: "오월동주(吳越同舟)", meaning: "원수도 위급하면 협력.", origin: "손자" },
  { term: "옥석구분(玉石俱焚)", meaning: "좋은 것과 나쁜 것이 함께 망함.", origin: "한서" },
  { term: "와신상담(臥薪嘗膽)", meaning: "원수를 갚기 위해 고생을 참고 견딤.", origin: "사기" },
  { term: "요지부동(搖之不動)", meaning: "아무리 흔들어도 움직이지 않음.", origin: "한서" },
  { term: "우공이산(愚公移山)", meaning: "지속적인 노력으로 난관 극복.", origin: "열자" },
  { term: "우문현답(愚問賢答)", meaning: "어리석은 물음에 현명한 대답.", origin: "고사" },
  { term: "우유부단(優柔不斷)", meaning: "결단을 못 내림.", origin: "후한서" },
  { term: "위풍당당(威風堂堂)", meaning: "위엄 있고 당당함.", origin: "문헌" },
  { term: "유구무언(有口無言)", meaning: "입은 있으나 할 말이 없음.", origin: "사기" },
  { term: "유비무환(有備無患)", meaning: "준비하면 근심이 없음.", origin: "서경" },
  { term: "유아독존(唯我獨尊)", meaning: "나만이 존귀함; 오만을 경계.", origin: "불경" },
  { term: "은인자중(隱忍自重)", meaning: "숨기고 참으며 몸가짐을 삼감.", origin: "송사" },
  { term: "음덕양보(陰德揚報)", meaning: "숨은 덕은 드러나 보답받음.", origin: "불교" },
  { term: "의기투합(意氣投合)", meaning: "뜻이 맞아 하나가 됨.", origin: "사기" },
  { term: "이구동성(異口同聲)", meaning: "여럿이 한 목소리로 말함.", origin: "후한서" },
  { term: "이신전심(以身傳心)", meaning: "몸으로 마음을 전함; 솔선수범.", origin: "선종" },
  { term: "이인위본(利仁爲本)", meaning: "이익보다 인을 근본으로.", origin: "유가" },
  { term: "이회삼반(二回三反)", meaning: "두 번 세 번 거듭 생각함.", origin: "송사" },
  { term: "인과응보(因果應報)", meaning: "행한 대로 돌아옴.", origin: "불교" },
  { term: "인내천(人乃天)", meaning: "사람이 곧 하늘.", origin: "동학" },
  { term: "인산인해(人山人海)", meaning: "사람이 산처럼 바다처럼 많음.", origin: "문헌" },
  { term: "일거양득(一擧兩得)", meaning: "한 번에 두 가지 이득.", origin: "사기" },
  { term: "일희일비(一喜一悲)", meaning: "기뻐했다 슬퍼했다 함.", origin: "문헌" },
  { term: "임기응변(臨機應變)", meaning: "그때그때 상황에 맞게 대처.", origin: "후한서" },
  { term: "자강지덕(自强之德)", meaning: "스스로 강건히 하는 덕.", origin: "주역" },
  { term: "자격지심(自擊之心)", meaning: "스스로를 탓하고 움츠림.", origin: "문헌" },
  { term: "자나깨나(自我覺醒)", meaning: "늘 깨어 있음(경계).", origin: "관용" },
  { term: "자중자애(自重自愛)", meaning: "스스로를 삼가고 사랑함.", origin: "논어" },
  { term: "장삼이사(張三李四)", meaning: "평범한 보통 사람.", origin: "한서" },
  { term: "적반하장(賊反荷杖)", meaning: "도둑이 도리어 매를 듦; 뻔뻔함.", origin: "문헌" },
  { term: "전광석화(電光石火)", meaning: "번개처럼 재빠름.", origin: "시문" },
  { term: "전인미답(前人未踏)", meaning: "이전 사람이 밟지 않은 길.", origin: "문헌" },
  { term: "절치부심(切齒腐心)", meaning: "이를 갈며 분함을 참음.", origin: "후한서" },
  { term: "정정당당(正正堂堂)", meaning: "정의롭고 떳떳함.", origin: "사기" },
  { term: "정저지와(井底之蛙)", meaning: "우물 안 개구리; 견문이 좁음.", origin: "장자" },
  { term: "제행무상(諸行無常)", meaning: "모든 것은 변함.", origin: "불경" },
  { term: "조강지처(糟糠之妻)", meaning: "가난할 때 함께한 아내.", origin: "후한서" },
  { term: "좌고우면(左顧右眄)", meaning: "이리저리 살피며 머뭇거림.", origin: "사기" },
  { term: "주경야독(晝耕夜讀)", meaning: "낮에는 일하고 밤에는 공부.", origin: "송사" },
  { term: "중용지도(中庸之道)", meaning: "치우치지 않는 길.", origin: "중용" },
  { term: "중원부활(重元復活)", meaning: "다시 살아 돌아옴; 재기.", origin: "관용" },
  { term: "진퇴양난(進退兩難)", meaning: "나아가지도 물러나지도 못함.", origin: "사기" },
  { term: "차일피일(此日彼日)", meaning: "이 핑계 저 핑계로 미룸.", origin: "문헌" },
  { term: "천생연분(天生緣分)", meaning: "하늘이 맺어 준 인연.", origin: "시문" },
  { term: "천재일우(千載一遇)", meaning: "천년에 한 번 만날 기회.", origin: "문헌" },
  { term: "천하무적(天下無敵)", meaning: "세상에 적이 없음.", origin: "사기" },
  { term: "철석같다(鐵石堅固)", meaning: "쇠와 돌처럼 굳세다.", origin: "관용" },
  { term: "청운지지(靑雲之志)", meaning: "출세하려는 뜻.", origin: "문헌" },
  { term: "청천벽력(靑天霹靂)", meaning: "갑작스러운 큰 사건.", origin: "문헌" },
  { term: "초학문자(初學文字)", meaning: "학문의 첫걸음.", origin: "관용" },
  { term: "촉각을세우다(觸角)", meaning: "예민하게 살피다.", origin: "관용" },
  { term: "최후통첩(最後通牒)", meaning: "마지막 통보.", origin: "근대" },
  { term: "탕탕평평(蕩蕩平平)", meaning: "공평하고 넓음.", origin: "서경" },
  { term: "파사현정(破邪顯正)", meaning: "그릇됨을 깨고 바름을 드러냄.", origin: "불교" },
  { term: "풍전등화(風前燈火)", meaning: "바람 앞의 등불; 매우 위태함.", origin: "문헌" },
  { term: "학문일치(學問一致)", meaning: "배움과 실천을 합함.", origin: "유가" },
  { term: "해현경장(解弦更張)", meaning: "낡은 줄을 풀고 새 줄로 맴; 제도 개혁.", origin: "한서" },
  { term: "형설지공(螢雪之功)", meaning: "반딧불·눈빛으로 공부한 노력.", origin: "진서" },
  { term: "호연지기(浩然之氣)", meaning: "넓고 올곧은 기개.", origin: "맹자" },
  { term: "호형호제(呼兄呼弟)", meaning: "형·아우로 부를 만큼 친함.", origin: "사기" },
  { term: "혼연일체(渾然一體)", meaning: "하나로 융합됨.", origin: "문헌" },
  { term: "홍익인간(弘益人間)", meaning: "널리 인간을 이롭게 함.", origin: "삼국유사" }
];

      const search = document.getElementById('search');
      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');
      const soundToggle = document.getElementById('soundToggle');

      let allIdx = [...Array(idioms.length).keys()];
      let order = shuffle([...allIdx]);
      let idx = 0;
      let backShown = false;

      function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

      function applyFilter(){
        const q = (search.value||'').trim().toLowerCase();
        const filtered = allIdx.filter(i => `${idioms[i].term} ${idioms[i].meaning} ${idioms[i].origin}`.toLowerCase().includes(q));
        order = shuffle([...filtered]); idx = 0; backShown = false; card.classList.remove('is-flipped'); showCard();
      }

      function showCard(){
        if(order.length === 0){ front.innerHTML = `<div style='font-size:18px'>검색 결과가 없습니다.</div>`; back.innerHTML = `<div class='muted'>다른 키워드를 입력해 보세요.</div>`; meta.innerText = `0 / ${idioms.length}`; return; }
        const cur=idioms[order[idx]];
        front.innerHTML=`<div style='font-size:44px;font-weight:800;'>${cur.term}</div><div style='margin-top:12px;font-size:16px;opacity:0.6;'>카드를 클릭하거나 뒤집기 버튼을 눌러 뜻 보기</div>`;
        back.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.meaning}</div><div style='margin-top:10px;font-size:15px;opacity:0.7;'>유래: ${cur.origin}</div>`;
        meta.innerText=`카드 ${idx+1}/${order.length} · 전체 ${idioms.length}`;
      }

      function flipCard(){ card.classList.toggle('is-flipped'); playSound(); backShown=!backShown; }
      function next(){ if(order.length===0) return; backShown=false; card.classList.remove('is-flipped'); idx=(idx+1)%order.length; showCard(); }
      function prev(){ if(order.length===0) return; backShown=false; card.classList.remove('is-flipped'); idx=(idx-1+order.length)%order.length; showCard(); }
      function reshuffle(){ if(order.length===0) return; order = shuffle(order); idx=0; backShown=false; card.classList.remove('is-flipped'); showCard(); }

      function playSound(){ if(!soundToggle.checked) return; const ctx=new (window.AudioContext||window.webkitAudioContext)(); const osc=ctx.createOscillator(); const gain=ctx.createGain(); const now=ctx.currentTime; osc.type='triangle'; osc.frequency.setValueAtTime(300,now); osc.frequency.exponentialRampToValueAtTime(800,now+0.15); gain.gain.setValueAtTime(0.2,now); gain.gain.exponentialRampToValueAtTime(0.001,now+0.15); osc.connect(gain).connect(ctx.destination); osc.start(now); osc.stop(now+0.15); }

      document.getElementById('flip').onclick=flipCard;
      document.getElementById('next').onclick=next;
      document.getElementById('prev').onclick=prev;
      document.getElementById('shuffle').onclick=reshuffle;
      card.onclick=flipCard;
      search.addEventListener('input', applyFilter);

      showCard();
    </script>
  </body>
</html>
