<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í˜¸ë§ˆë§¨ ì‚¬ìì„±ì–´</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #faf7ef;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 {
        font-size: 32px;
        font-weight: 800;
        margin-bottom: 12px;
      }
      input, button {
        border-radius: 10px;
        border: 1px solid #6b6658;
        padding: 10px 14px;
        background: #fcfaf3;
      }
      .toolbar {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 12px;
        justify-content: center;
      }
      .scene {
        width: 90%;
        max-width: 600px;
        height: 280px;
        perspective: 1000px;
      }
      .card {
        width: 100%;
        height: 100%;
        position: relative;
        transition: transform 0.6s;
        transform-style: preserve-3d;
        border-radius: 22px;
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.08), 0 6px 14px rgba(0, 0, 0, 0.05);
        border: 1px solid #cdbfa6;
      }
      .card.is-flipped {
        transform: rotateY(180deg);
      }
      .card__face {
        position: absolute;
        inset: 0;
        backface-visibility: hidden;
        border-radius: 22px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: #fffaf1;
        background-image: radial-gradient(rgba(0, 0, 0, 0.03) 0.6px, rgba(0, 0, 0, 0) 0.6px),
          radial-gradient(rgba(0, 0, 0, 0.025) 0.8px, rgba(0, 0, 0, 0) 0.8px),
          repeating-linear-gradient(25deg, rgba(136, 112, 88, 0.06) 0 2px, rgba(136, 112, 88, 0.02) 2px 6px),
          repeating-linear-gradient(-18deg, rgba(136, 112, 88, 0.05) 0 3px, rgba(136, 112, 88, 0.02) 3px 7px);
        background-size: 6px 6px, 11px 11px, 100% 100%, 100% 100%;
        text-align: center;
        padding: 20px;
      }
      .card__face--back {
        transform: rotateY(180deg);
      }
      .navs {
        display: flex;
        justify-content: space-between;
        width: 200px;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ€„ í˜¸ë§ˆë§¨ ì‚¬ìì„±ì–´</h1>
    <div class="toolbar">
      <input id="search" placeholder="ê²€ìƒ‰(ìš©ì–´/ëœ»/ìœ ë˜)" />
      <button id="shuffle">ğŸ”€ ì…”í”Œ</button>
      <button id="flip">â†©ï¸ ë’¤ì§‘ê¸°</button>
      <label><input type="checkbox" id="soundToggle" checked /> ì‚¬ìš´ë“œ</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front"></div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">â—€</button>
      <button id="next">â–¶</button>
    </div>
    <div id="meta"></div>

    <script>
      const idioms = [
        { term: "ì ˆì°¨íƒë§ˆ(åˆ‡ç£‹ç¢ç£¨)", meaning: "ì„œë¡œ ë°°ìš°ë©° ê°ˆê³ ë‹¦ì•„ í–¥ìƒí•¨.", origin: "ì‹œê²½/ì˜ˆê¸°" },
        { term: "í˜•ì„¤ì§€ê³µ(è¢é›ªä¹‹åŠŸ)", meaning: "ê³ ìƒí•˜ë©° í•™ë¬¸ì„ ì´ë£¨ëŠ” ê³µ.", origin: "ì§„ì„œ/ìˆ˜ê²½ì£¼" },
        { term: "ê·¼ë¬µìí‘(è¿‘å¢¨è€…é»‘)", meaning: "ë¨¹ì„ ê°€ê¹Œì´í•˜ë©´ ê²€ì–´ì§„ë‹¤.", origin: "íƒœìì†Œë¶€" },
        { term: "ëŒ€ê¸°ë§Œì„±(å¤§å™¨æ™©æˆ)", meaning: "í° ê·¸ë¦‡ì€ ëŠ¦ê²Œ ì´ë£¨ì–´ì§.", origin: "ë…¸ì" },
        { term: "ë°±ì ˆë¶ˆêµ´(ç™¾æŠ˜ä¸å±ˆ)", meaning: "ë°± ë²ˆ êº¾ì—¬ë„ êµ½íˆì§€ ì•ŠìŒ.", origin: "í›„í•œì„œ" },
        { term: "ì˜¨ê³ ì§€ì‹ (æº«æ•…çŸ¥æ–°)", meaning: "ì˜›ê²ƒì„ ìµí˜€ ìƒˆê²ƒì„ ì•ˆë‹¤.", origin: "ë…¼ì–´" },
        { term: "ìœ ì§€ê²½ì„±(æœ‰å¿—ç«Ÿæˆ)", meaning: "ëœ»ì´ ìˆìœ¼ë©´ ë§ˆì¹¨ë‚´ ì´ë£¸.", origin: "í›„í•œì„œ" },
        { term: "ì²­ì¶œì–´ëŒ(é‘å‡ºæ–¼è—)", meaning: "ì œìê°€ ìŠ¤ìŠ¹ë³´ë‹¤ ë” ë‚˜ìŒ.", origin: "ìˆœì" },
        { term: "ì´ˆì§€ì¼ê´€(åˆå¿—ä¸€è²«)", meaning: "ì²˜ìŒ ì„¸ìš´ ëœ»ì„ ëê¹Œì§€ ë°€ê³  ë‚˜ê°.", origin: "í›„í•œì„œ" },
        { term: "ì‚¬í•„ê·€ì •(äº‹å¿…æ­¸æ­£)", meaning: "ëª¨ë“  ì¼ì€ ê²°êµ­ ë°”ë¥¸ ë°ë¡œ ëŒì•„ê°.", origin: "ì—­ì‚¬ì„œ í†µìš©" },
        { term: "ê¶Œì„ ì§•ì•…(å‹¸å–„æ‡²æƒ¡)", meaning: "ì„ ì„ ê¶Œí•˜ê³  ì•…ì„ ë²Œí•¨.", origin: "ë¶ˆêµ/ìœ êµ" },
        { term: "ì§€í”¼ì§€ê¸°(çŸ¥å½¼çŸ¥å·±)", meaning: "ìƒëŒ€ì™€ ìì‹ ì„ ì•Œë©´ ë°±ì „ë°±ìŠ¹.", origin: "ì†ìë³‘ë²•" },
        { term: "ì„±ì‹¤ê·¼ë©´(èª å¯¦å‹¤å‹‰)", meaning: "ì„±ì‹¤í•˜ê³  ë¶€ì§€ëŸ°í•¨.", origin: "ìœ ê°€ ê²½ì „" },
        { term: "í˜¸ì‚¬ë‹¤ë§ˆ(å¥½äº‹å¤šé­”)", meaning: "ì¢‹ì€ ì¼ì—ëŠ” íƒˆì´ ë§ìŒ.", origin: "ì†ë‹´ í•œìí™”" },
        { term: "ìˆ˜ì–´ì§€êµ(æ°´é­šä¹‹äº¤)", meaning: "ë¬¼ê³¼ ë¬¼ê³ ê¸°ì˜ ê´€ê³„ì²˜ëŸ¼ ì¹œë°€í•œ ì‚¬ê·.", origin: "ì‚¼êµ­ì§€" },
        { term: "ìš°ê³µì´ì‚°(æ„šå…¬ç§»å±±)", meaning: "ì–´ë¦¬ì„ì€ ë…¸ì¸ì´ ì‚°ì„ ì˜®ê¸´ë‹¤ëŠ” ëœ»ìœ¼ë¡œ ëˆê¸° ìˆê²Œ ë…¸ë ¥í•¨.", origin: "ì—´ì" },
        { term: "ê²¬ë¦¬ì‚¬ì˜(è¦‹åˆ©æ€ç¾©)", meaning: "ì´ìµì„ ë³´ê±°ë“  ì˜ë¡œì›€ì„ ìƒê°í•¨.", origin: "ë…¼ì–´" },
        { term: "ê³¼ìœ ë¶ˆê¸‰(éçŒ¶ä¸åŠ)", meaning: "ì§€ë‚˜ì¹¨ì€ ë¯¸ì¹˜ì§€ ëª»í•¨ê³¼ ê°™ìŒ.", origin: "ë…¼ì–´" },
        { term: "ê³µìˆ˜ë˜ê³µìˆ˜ê±°(ç©ºæ‰‹ä¾†ç©ºæ‰‹å»)", meaning: "ë¹ˆì†ìœ¼ë¡œ ì™”ë‹¤ê°€ ë¹ˆì†ìœ¼ë¡œ ê°.", origin: "ë¶ˆê²½" },
        { term: "ëª…ì‹¬ë³´ê°(æ˜å¿ƒå¯¶é‘‘)", meaning: "ë§ˆìŒì„ ë°íˆëŠ” ë³´ë°°ë¡œìš´ ê±°ìš¸(ë„ë• êµí›ˆì„œ).", origin: "ê³ ë ¤ ì¶©ë ¬ì™•ëŒ€" },
        { term: "ìˆ˜ì‹ ì œê°€(ä¿®èº«é½Šå®¶)", meaning: "ëª¸ì„ ë‹¦ê³  ì§‘ì•ˆì„ ê°€ì§€ëŸ°íˆ í•¨.", origin: "ëŒ€í•™" },
        { term: "ìœ„ê¸°ì¼ë°œ(å±æ©Ÿä¸€é«®)", meaning: "í•œ ê°€ë‹¥ ë¨¸ë¦¬ì¹´ë½ì— ë§¤ë‹¬ë¦° ë“¯í•œ ìœ„ê¸‰í•œ ìˆœê°„.", origin: "í›„í•œì„œ" },
        { term: "ê¶Œí† ì¤‘ë˜(æ²åœŸé‡ä¾†)", meaning: "ì‹¤íŒ¨ í›„ ë‹¤ì‹œ ì¼ì–´ë‚¨.", origin: "ë‹¹ì„œ" },
        { term: "ê³ ì§„ê°ë˜(è‹¦ç›¡ç”˜ä¾†)", meaning: "ê³ ìƒ ëì— ë‚™ì´ ì˜´.", origin: "í›„í•œì„œ" },
        { term: "ê²¬ë¬¼ìƒì‹¬(è¦‹ç‰©ç”Ÿå¿ƒ)", meaning: "ì‹¤ë¬¼ì„ ë³´ë©´ ìš•ì‹¬ì´ ìƒê¹€.", origin: "ë¶ˆê²½ ì„¤í™”" },
        { term: "ê¸ˆìƒì²¨í™”(éŒ¦ä¸Šæ·»èŠ±)", meaning: "ì¢‹ì€ ì¼ì— ë˜ ì¢‹ì€ ì¼ì´ ë”í•´ì§.", origin: "ì†¡ë‚˜ë¼ ì†ë‹´" },
        { term: "ì „í™”ìœ„ë³µ(è½‰ç¦çˆ²ç¦)", meaning: "ì¬ì•™ì´ ë°”ë€Œì–´ ë³µì´ ë¨.", origin: "í›„í•œì„œ" },
        { term: "ì¹ ì „íŒ”ê¸°(ä¸ƒé¡šå…«èµ·)", meaning: "ì—¬ëŸ¬ ë²ˆ ë„˜ì–´ì ¸ë„ ë‹¤ì‹œ ì¼ì–´ë‚¨.", origin: "ì¼ë³¸ì„œê¸°" },
        { term: "ìê°•ë¶ˆì‹(è‡ªå¼ºä¸æ¯)", meaning: "ìŠ¤ìŠ¤ë¡œ í˜ì¨ ì‰¬ì§€ ì•ŠìŒ.", origin: "ì£¼ì—­" },
        { term: "ìˆ˜ìˆ˜ë°©ê´€(è¢–æ‰‹å‚è§€)", meaning: "íŒ”ì§±ë§Œ ë¼ê³  ë³´ê³ ë§Œ ìˆìŒ.", origin: "ì‚¬ê¸°" },
        { term: "ë°±ë¬¸ë¶ˆì—¬ì¼ê²¬(ç™¾èä¸å¦‚ä¸€è¦‹)", meaning: "ë°± ë²ˆ ë“£ëŠ” ê²ƒì´ í•œ ë²ˆ ë³´ëŠ” ê²ƒë§Œ ëª»í•¨.", origin: "í•œì„œ" }
      ];

      let order = shuffle([...Array(idioms.length).keys()]);
      let idx = 0;
      let backShown = false;

      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');

      const soundToggle = document.getElementById('soundToggle');

      function shuffle(arr){
        for(let i=arr.length-1;i>0;i--){
          const j=Math.floor(Math.random()*(i+1));
          [arr[i],arr[j]]=[arr[j],arr[i]];
        }
        return arr;
      }

      function showCard(){
        const cur=idioms[order[idx]];
        front.innerHTML=`<div style='font-size:40px;font-weight:800;'>${cur.term}</div><div style='margin-top:12px;font-size:16px;opacity:0.6;'>ì¹´ë“œë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë’¤ì§‘ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ ëœ» ë³´ê¸°</div>`;
        back.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.meaning}</div><div style='margin-top:10px;font-size:15px;opacity:0.7;'>ìœ ë˜: ${cur.origin}</div>`;
        meta.innerText=`ì¹´ë“œ ${idx+1}/${idioms.length}`;
      }

      function flipCard(){
        card.classList.toggle('is-flipped');
        playSound();
        backShown=!backShown;
      }

      function playSound(){
        if(!soundToggle.checked) return;
        const ctx=new (window.AudioContext||window.webkitAudioContext)();
        const osc=ctx.createOscillator();
        const gain=ctx.createGain();
        osc.type='triangle';
        const now=ctx.currentTime;
        osc.frequency.setValueAtTime(300,now);
        osc.frequency.exponentialRampToValueAtTime(800,now+0.15);
        gain.gain.setValueAtTime(0.2,now);
        gain.gain.exponentialRampToValueAtTime(0.001,now+0.15);
        osc.connect(gain).connect(ctx.destination);
        osc.start(now);
        osc.stop(now+0.15);
      }

      document.getElementById('flip').onclick=flipCard;
      document.getElementById('next').onclick=()=>{backShown=false;card.classList.remove('is-flipped');idx=(idx+1)%idioms.length;showCard();};
      document.getElementById('prev').onclick=()=>{backShown=false;card.classList.remove('is-flipped');idx=(idx-1+idioms.length)%idioms.length;showCard();};
      document.getElementById('shuffle').onclick=()=>{order=shuffle(order);idx=0;backShown=false;card.classList.remove('is-flipped');showCard();};
      card.onclick=flipCard;

      showCard();
    </script>
  </body>
</html>
