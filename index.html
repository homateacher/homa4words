<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í˜¸ë§ˆë§¨ ì‚¬ìì„±ì–´</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #faf7ef;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 { font-size: 32px; font-weight: 800; margin-bottom: 12px; }
      input, button { border-radius: 10px; border: 1px solid #6b6658; padding: 10px 14px; background: #fcfaf3; }
      .toolbar { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; justify-content: center; }
      .scene { width: 90%; max-width: 640px; height: 320px; perspective: 1000px; }
      .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 22px; box-shadow: 0 12px 28px rgba(0,0,0,0.08), 0 6px 14px rgba(0,0,0,0.05); border: 1px solid #d9cdb7; }
      .card.is-flipped { transform: rotateY(180deg); }
      .card__face {
        position: absolute; inset: 0; backface-visibility: hidden; border-radius: 22px;
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 26px;
        /* ë¶€ë“œëŸ¬ìš´ í•œì§€ ê·¸ë¼ë””ì–¸íŠ¸ (ì™€í”Œ ëŠë‚Œ ì œê±°) */
        background: radial-gradient(120% 90% at 50% 10%, #fffdf9 0%, #fff6e9 55%, #ffeeda 100%);
        /* ê°€ëŠë‹¤ë€ ì„¬ìœ ê²°ê³¼ ì ë°•ì´ ì§ˆê° (ì•„ì£¼ ì˜…ê²Œ) */
        background-image:
          radial-gradient(rgba(0,0,0,0.025) 0.7px, rgba(0,0,0,0) 0.7px),
          radial-gradient(rgba(0,0,0,0.02) 1px, rgba(0,0,0,0) 1px),
          linear-gradient(12deg, rgba(120,90,60,0.04), rgba(120,90,60,0.02) 35%, rgba(120,90,60,0.04) 70%);
        background-size: 10px 10px, 16px 16px, 100% 100%;
        background-blend-mode: multiply;
      }
      .card__face--back { transform: rotateY(180deg); }
      .navs { display: flex; justify-content: space-between; width: 200px; margin: 10px 0; }
      .muted { opacity: .6; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>ğŸ€„ í˜¸ë§ˆë§¨ ì‚¬ìì„±ì–´</h1>
    <div class="toolbar">
      <input id="search" placeholder="ê²€ìƒ‰(ìš©ì–´/ëœ»/ìœ ë˜)" />
      <button id="shuffle">ğŸ”€ ì…”í”Œ</button>
      <button id="flip">â†©ï¸ ë’¤ì§‘ê¸°</button>
      <label><input type="checkbox" id="soundToggle" checked /> ì‚¬ìš´ë“œ</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front"></div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">â—€</button>
      <button id="next">â–¶</button>
    </div>
    <div id="meta" class="muted"></div>

    <script>
      // 100ê°œ ì‚¬ìì„±ì–´ ë°ì´í„°
      const idioms = [
        { term: "ì ˆì°¨íƒë§ˆ(åˆ‡ç£‹ç¢ç£¨)", meaning: "ì„œë¡œ ë°°ìš°ë©° ê°ˆê³ ë‹¦ì•„ í–¥ìƒí•¨.", origin: "ì‹œê²½/ì˜ˆê¸°" },
        { term: "í˜•ì„¤ì§€ê³µ(è¢é›ªä¹‹åŠŸ)", meaning: "ê³ ìƒí•˜ë©° í•™ë¬¸ì„ ì´ë£¨ëŠ” ê³µ.", origin: "ì§„ì„œ/ìˆ˜ê²½ì£¼" },
        { term: "ê·¼ë¬µìí‘(è¿‘å¢¨è€…é»‘)", meaning: "ë¨¹ì„ ê°€ê¹Œì´í•˜ë©´ ê²€ì–´ì§„ë‹¤(í™˜ê²½ì˜ ì˜í–¥).", origin: "íƒœìì†Œë¶€" },
        { term: "ê·¼ì£¼ìì (è¿‘æœ±è€…èµ¤)", meaning: "ì¢‹ì€ ë²—ì„ ê°€ê¹Œì´í•˜ë©´ ë¶‰ì–´ì§„ë‹¤.", origin: "íƒœìì†Œë¶€" },
        { term: "ëŒ€ê¸°ë§Œì„±(å¤§å™¨æ™©æˆ)", meaning: "í° ê·¸ë¦‡ì€ ëŠ¦ê²Œ ì´ë£¨ì–´ì§.", origin: "ë…¸ì" },
        { term: "ë°±ì ˆë¶ˆêµ´(ç™¾æŠ˜ä¸å±ˆ)", meaning: "ë°± ë²ˆ êº¾ì—¬ë„ êµ½íˆì§€ ì•ŠìŒ.", origin: "í›„í•œì„œ" },
        { term: "ê²¬ë¦¬ì‚¬ì˜(è¦‹åˆ©æ€ç¾©)", meaning: "ì´ìµì„ ë³´ê±°ë“  ì˜ë¡œì›€ì„ ë¨¼ì € ìƒê°í•¨.", origin: "ë…¼ì–´" },
        { term: "ê²¬ìœ„ìˆ˜ëª…(è¦‹å±æˆå‘½)", meaning: "ìœ„íƒœë¡œì›€ì„ ë³´ë©´ ëª©ìˆ¨ì„ ë°”ì³ ì˜ë¥¼ í–‰í•¨.", origin: "ì˜ˆê¸°" },
        { term: "ì¶©ì–¸ì—­ì´(å¿ è¨€é€†è€³)", meaning: "ì¶©ê³ ëŠ” ê·€ì— ê±°ìŠ¬ë¦¬ë‚˜ ìœ ìµí•¨.", origin: "ê³ ì‚¬" },
        { term: "ì •ë¬¸ì¼ì¹¨(é ‚é–€ä¸€é¼)", meaning: "ì•„í”ˆ ê³³ì„ ì°Œë¥´ëŠ” ë”°ë”í•œ ì¶©ê³ .", origin: "ê³ ì‚¬" },
        { term: "ê²°ì´ˆë³´ì€(çµè‰å ±æ©)", meaning: "ì£½ì–´ì„œë„ ì€í˜œë¥¼ ê°šìŒ.", origin: "ì¢Œì „" },
        { term: "ì‚¼ê³ ì´ˆë ¤(ä¸‰é¡§è‰å»¬)", meaning: "ì„¸ ë²ˆ ì°¾ì•„ê°€ ì •ì„±ì„ ë‹¤í•¨.", origin: "ì‚¼êµ­ì§€" },
        { term: "ìˆ˜ì˜¤ì§€ì‹¬(ç¾æƒ¡ä¹‹å¿ƒ)", meaning: "ë¶€ë„ëŸ¬ì›€ì„ ì•„ëŠ” ë§ˆìŒ.", origin: "ë§¹ì" },
        { term: "ì¸ì˜ì˜ˆì§€(ä»ç¾©ç¦®æ™º)", meaning: "ì‚¬ëŒë¨ì˜ ë„¤ ë•ëª©.", origin: "ìœ ê°€" },
        { term: "ë¶ˆí¸ë¶€ë‹¹(ä¸åä¸é»¨)", meaning: "ì¹˜ìš°ì¹˜ì§€ ì•Šê³  ë‹¹íŒŒì— ì„œì§€ ì•ŠìŒ.", origin: "ì‚¬ì„œ" },
        { term: "ìƒì„ ì•½ìˆ˜(ä¸Šå–„è‹¥æ°´)", meaning: "ìµœê³ ì˜ ì„ ì€ ë¬¼ê³¼ ê°™ìŒ.", origin: "ë…¸ì" },
        { term: "ëª…ê²½ì§€ìˆ˜(æ˜é¡æ­¢æ°´)", meaning: "ë°ì€ ê±°ìš¸Â·ê³ ìš”í•œ ë¬¼ ê°™ì€ ë§ˆìŒ.", origin: "ì¥ì" },
        { term: "ì˜¨ê³ ì§€ì‹ (æº«æ•…çŸ¥æ–°)", meaning: "ì˜›ê²ƒì„ ìµí˜€ ìƒˆê²ƒì„ ì•.", origin: "ë…¼ì–´" },
        { term: "ìˆ˜ê¸°ì¹˜ì¸(ä¿®å·±æ²»äºº)", meaning: "ìê¸°ë¥¼ ë‹¦ì•„ ë‚¨ì„ ë‹¤ìŠ¤ë¦¼.", origin: "ëŒ€í•™" },
        { term: "ì…ì‹ ì–‘ëª…(ç«‹èº«æšå)", meaning: "ëª¸ì„ ì„¸ì›Œ ì´ë¦„ì„ ë–¨ì¹¨.", origin: "ì‚¬ê¸°" },
        { term: "ë©¸ì‚¬ë´‰ê³µ(æ»…ç§å¥‰å…¬)", meaning: "ì‚¬ì‚¬ë¡œì›€ì„ ë²„ë¦¬ê³  ê³µìµì„ ë°›ë“¦.", origin: "ê·¼ëŒ€" },
        { term: "ì—¼ì¹˜ë¶ˆê°(å»‰æ¥ä¸å ª)", meaning: "ì—¼ì¹˜ì— ë¶€ë„ëŸ¬ì›Œ ê²¬ë””ê¸° ì–´ë ¤ì›€.", origin: "ì‚¬ì„œ" },
        { term: "ë§¹ëª¨ì‚¼ì²œ(å­Ÿæ¯ä¸‰é·)", meaning: "êµìœ¡ì„ ìœ„í•´ ì„¸ ë²ˆ ì´ì‚¬í•¨.", origin: "ì—´ë…€ì „" },
        { term: "êµ°ìì‚¼ë½(å›å­ä¸‰æ¨‚)", meaning: "êµ°ìì˜ ì„¸ ì¦ê±°ì›€.", origin: "ë§¹ì" },
        { term: "êµ°ìë¶ˆê¸°(å›å­ä¸å™¨)", meaning: "êµ°ìëŠ” í•œ ê°€ì§€ ê·¸ë¦‡ì— êµ­í•œë˜ì§€ ì•ŠìŒ.", origin: "ë…¼ì–´" },
        { term: "ê²½ì²œì• ì¸(æ•¬å¤©æ„›äºº)", meaning: "í•˜ëŠ˜ì„ ê³µê²½í•˜ê³  ì‚¬ëŒì„ ì‚¬ë‘í•¨.", origin: "ì™•ì–‘ëª… ê³„" },
        { term: "ê³¼ê°ë‹¨í–‰(æœæ•¢æ–·è¡Œ)", meaning: "ê³¼ê°íˆ ê²°ë‹¨í•˜ê³  ì‹¤í–‰í•¨.", origin: "ê·¼ëŒ€" },
        { term: "ì¸ê³¼ì‘ë³´(å› æœæ‡‰å ±)", meaning: "ì›ì¸ì— ë”°ë¼ ë³´ì‘ì´ ì˜´.", origin: "ë¶ˆêµ" },
        { term: "ìœ ì§€ê²½ì„±(æœ‰å¿—ç«Ÿæˆ)", meaning: "ëœ»ì´ ìˆìœ¼ë©´ ë§ˆì¹¨ë‚´ ì´ë£¸.", origin: "í›„í•œì„œ" },
        { term: "ê¶Œì„ ì§•ì•…(å‹¸å–„æ‡²æƒ¡)", meaning: "ì„ ì„ ê¶Œí•˜ê³  ì•…ì„ ë²Œí•¨.", origin: "ìœ ë¶ˆ" },
        { term: "ì§€í”¼ì§€ê¸°(çŸ¥å½¼çŸ¥å·±)", meaning: "ìƒëŒ€ì™€ ìì‹ ì„ ì•Œë©´ ì´ê¹€.", origin: "ì†ìë³‘ë²•" },
        { term: "í˜¸ì‚¬ë‹¤ë§ˆ(å¥½äº‹å¤šé­”)", meaning: "ì¢‹ì€ ì¼ì—ëŠ” íƒˆì´ ë§ìŒ.", origin: "ì†ë‹´" },
        { term: "ìš°ê³µì´ì‚°(æ„šå…¬ç§»å±±)", meaning: "ëˆê¸°ë¡œ í°ì¼ì„ ì´ë£¸.", origin: "ì—´ì" },
        { term: "ê³¼ìœ ë¶ˆê¸‰(éçŒ¶ä¸åŠ)", meaning: "ì§€ë‚˜ì¹¨ì€ ë¯¸ì¹˜ì§€ ëª»í•¨ê³¼ ê°™ìŒ.", origin: "ë…¼ì–´" },
        { term: "ìˆ˜ì‹ ì œê°€(ä¿®èº«é½Šå®¶)", meaning: "ëª¸ì„ ë‹¦ê³  ì§‘ì•ˆì„ ë‹¤ìŠ¤ë¦¼.", origin: "ëŒ€í•™" },
        { term: "ìœ„ê¸°ì¼ë°œ(å±æ©Ÿä¸€é«®)", meaning: "ëª¹ì‹œ ìœ„ê¸‰í•œ ìˆœê°„.", origin: "í›„í•œì„œ" },
        { term: "ê¶Œí† ì¤‘ë˜(æ²åœŸé‡ä¾†)", meaning: "ì‹¤íŒ¨ ë’¤ì— ë‹¤ì‹œ ì¼ì–´ë‚¨.", origin: "ë‹¹ì„œ" },
        { term: "ê³ ì§„ê°ë˜(è‹¦ç›¡ç”˜ä¾†)", meaning: "ê³ ìƒ ëì— ë‚™ì´ ì˜´.", origin: "í›„í•œì„œ" },
        { term: "ê²¬ë¬¼ìƒì‹¬(è¦‹ç‰©ç”Ÿå¿ƒ)", meaning: "ì‹¤ë¬¼ì„ ë³´ë©´ ìš•ì‹¬ì´ ë‚¨.", origin: "ë¶ˆì „" },
        { term: "ê¸ˆìƒì²¨í™”(éŒ¦ä¸Šæ·»èŠ±)", meaning: "ì¢‹ì€ ì¼ì— ì¢‹ì€ ì¼ì´ ë”í•¨.", origin: "ì†¡ëŒ€" },
        { term: "ì „í™”ìœ„ë³µ(è½‰ç¦çˆ²ç¦)", meaning: "ì¬ì•™ì´ ë³µìœ¼ë¡œ ë°”ë€œ.", origin: "í›„í•œì„œ" },
        { term: "ì¹ ì „íŒ”ê¸°(ä¸ƒé¡šå…«èµ·)", meaning: "ì—¬ëŸ¬ ë²ˆ ë„˜ì–´ì ¸ë„ ì¼ì–´ë‚¨.", origin: "ì¼ë³¸ì„œê¸°" },
        { term: "ìê°•ë¶ˆì‹(è‡ªå¼·ä¸æ¯)", meaning: "ìŠ¤ìŠ¤ë¡œ í˜ì¨ ì‰¼ì´ ì—†ìŒ.", origin: "ì£¼ì—­" },
        { term: "ìˆ˜ìˆ˜ë°©ê´€(è¢–æ‰‹å‚è§€)", meaning: "íŒ”ì§± ë¼ê³  ë³´ê³ ë§Œ ìˆìŒ.", origin: "ì‚¬ê¸°" },
        { term: "ë°±ë¬¸ë¶ˆì—¬ì¼ê²¬(ç™¾èä¸å¦‚ä¸€è¦‹)", meaning: "ë°± ë²ˆ ë“£ëŠ” ê²ƒë³´ë‹¤ í•œ ë²ˆ ë³´ëŠ” ê²Œ ë‚˜ìŒ.", origin: "í•œì„œ" },
        { term: "ê°ê³¨ë‚œë§(åˆ»éª¨é›£å¿˜)", meaning: "ì€í˜œê°€ ê¹Šì–´ ìŠì§€ ëª»í•¨.", origin: "ê³ ì‚¬" },
        { term: "ê°ì–¸ì´ì„¤(ç”˜è¨€åˆ©èªª)", meaning: "ë‹¬ì½¤í•œ ë§ë¡œ ê¾€ì–´ ì†ì„.", origin: "ë§¹ì" },
        { term: "ê±°ë‘ì ˆë¯¸(å»é ­æˆªå°¾)", meaning: "êµ°ë”ë”ê¸° ë¹¼ê³  ìš”ì ë§Œ ë§í•¨.", origin: "í•œì„œ" },
        { term: "ê²½ê±°ë§ë™(è¼•æ“§å¦„å‹•)", meaning: "ê²½ì†”íˆ í–‰ë™í•¨.", origin: "í›„í•œì„œ" },
        { term: "êµ¬ì‚¬ì¼ìƒ(ä¹æ­»ä¸€ç”Ÿ)", meaning: "ì£½ì„ ê³ ë¹„ë¥¼ ì—¬ëŸ¬ ë²ˆ ë„˜ê¹€.", origin: "ì‚¬ì„œ" },
        { term: "ê¸°ê³ ë§Œì¥(æ°£é«˜è¬ä¸ˆ)", meaning: "ê¸°ì„¸ê°€ ëŒ€ë‹¨íˆ ì˜¤ë¦„.", origin: "ì‚¼êµ­ì§€" },
        { term: "ê¸°í˜¸ì§€ì„¸(é¨è™ä¹‹å‹¢)", meaning: "ì¤‘ë„ì—ì„œ ê·¸ë§Œë‘˜ ìˆ˜ ì—†ëŠ” í˜•ì„¸.", origin: "í›„í•œì„œ" },
        { term: "ë‚œê³µë¶ˆë½(é›£æ”»ä¸è½)", meaning: "ì‰½ê²Œ í•¨ë½ë˜ì§€ ì•ŠìŒ.", origin: "ë³‘ë²•" },
        { term: "ë‚œí˜•ë‚œì œ(é›£å…„é›£å¼Ÿ)", meaning: "ìš°ì—´ì„ ê°€ë¦¬ê¸° ì–´ë ¤ì›€.", origin: "ë‚¨ë¶ì¡°" },
        { term: "ëˆ„ë€ì§€ìœ„(ç´¯åµä¹‹å±)", meaning: "ë‹¬ê±€ì„ ìŒ“ì€ ë“¯ ë§¤ìš° ìœ„íƒœí•¨.", origin: "í•œë¹„ì" },
        { term: "ë‹¤ë‹¤ìµì„ (å¤šå¤šç›Šå–„)", meaning: "ë§ì„ìˆ˜ë¡ ë” ì¢‹ìŒ.", origin: "ì‚¬ê¸°" },
        { term: "ë‹¤ì¬ë‹¤ëŠ¥(å¤šæ‰å¤šèƒ½)", meaning: "ì¬ì£¼ê°€ ë§ê³  ëŠ¥í•¨.", origin: "í•œìì–´" },
        { term: "ëŒ€ë™ë‹¨ê²°(å¤§åŒåœ˜çµ)", meaning: "í° ëœ» ì•„ë˜ í•œë§ˆìŒìœ¼ë¡œ ë­‰ì¹¨.", origin: "ê·¼í˜„ëŒ€" },
        { term: "ë™ë³‘ìƒë ¨(åŒç—…ç›¸æ†)", meaning: "ê°™ì€ ì²˜ì§€ë¼ë¦¬ ì„œë¡œ ë™ì •í•¨.", origin: "ì‚¼êµ­ì§€" },
        { term: "ë™ìƒì´ëª½(åŒåºŠç•°å¤¢)", meaning: "ê²‰ìœ¼ë¡  ê°™ìœ¼ë‚˜ ì†ëœ»ì€ ë‹¤ë¦„.", origin: "ì¡ê°" },
        { term: "ë™ë¬¸ì„œë‹µ(æ±å•è¥¿ç­”)", meaning: "ë¬»ëŠ” ë§ì— ë™ë–¨ì–´ì§„ ëŒ€ë‹µ.", origin: "í•œì„œ" },
        { term: "ë§ˆì´ë™í’(é¦¬è€³æ±é¢¨)", meaning: "ë‚¨ì˜ ë§ì„ ê·€ë‹´ì•„ë“£ì§€ ì•ŠìŒ.", origin: "ì‹œê²½" },
        { term: "ë§‰ìƒë§‰í•˜(è«ä¸Šè«ä¸‹)", meaning: "ì°¨ì´ê°€ ê±°ì˜ ì—†ìŒ.", origin: "ì†¡ì‚¬" },
        { term: "ë§Œì¥ì¼ì¹˜(æ»¿å ´ä¸€è‡´)", meaning: "ëª¨ë‘ê°€ í•œ ëœ»ìœ¼ë¡œ ì°¬ì„±í•¨.", origin: "í˜„ëŒ€" },
        { term: "ëª…ì‹¤ìƒë¶€(åå¯¦ç›¸ç¬¦)", meaning: "ì´ë¦„ê³¼ ì‹¤ì œê°€ ì„œë¡œ ë§ìŒ.", origin: "í›„í•œì„œ" },
        { term: "ë°˜ë©´êµì‚¬(åé¢æ•å¸«)", meaning: "ë‚¨ì˜ ì‹¤íŒ¨ì—ì„œ êµí›ˆ ì–»ìŒ.", origin: "ì‚¬ê¸°" },
        { term: "ë¶€ì „ìì „(çˆ¶å‚³å­å‚³)", meaning: "ì•„ë¹„ì˜ í–‰ë™ì´ ì•„ë“¤ì—ê²Œ ì „í•´ì§.", origin: "ì†ë‹´" },
        { term: "ë¶€í™”ë‡Œë™(é™„å’Œé›·åŒ)", meaning: "ì£¼ê²¬ ì—†ì´ ë‚¨ì„ ë”°ë¦„.", origin: "ì¥ì" },
        { term: "ì‚¬ë©´ì´ˆê°€(å››é¢æ¥šæ­Œ)", meaning: "ì‚¬ë°©ì´ ì ìœ¼ë¡œ ë‘˜ëŸ¬ì‹¸ì„.", origin: "ì‚¬ê¸°" },
        { term: "ì‚°ì „ìˆ˜ì „(å±±æˆ°æ°´æˆ°)", meaning: "ì˜¨ê°– ì–´ë ¤ì›€ì„ ë‹¤ ê²ªìŒ.", origin: "ë³‘ë²•" },
        { term: "ìƒˆì˜¹ì§€ë§ˆ(å¡ç¿ä¹‹é¦¬)", meaning: "ì¸ìƒì˜ ê¸¸í‰í™”ë³µì€ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ì›€.", origin: "íšŒë‚¨ì" },
        { term: "ì„ ê²¬ì§€ëª…(å…ˆè¦‹ä¹‹æ˜)", meaning: "ì•ì„ ë‚´ë‹¤ë³´ëŠ” ì§€í˜œ.", origin: "í•œì„œ" },
        { term: "ì„¤ìƒê°€ìƒ(é›ªä¸ŠåŠ éœœ)", meaning: "ì—ì¹œ ë° ë®ì¹¨.", origin: "ì‹œê²½" },
        { term: "ì†ìˆ˜ë¬´ì±…(æŸæ‰‹ç„¡ç­–)", meaning: "ì–´ì°Œí•  ë„ë¦¬ê°€ ì—†ìŒ.", origin: "ì‚¬ê¸°" },
        { term: "ì‹­ì¤‘íŒ”êµ¬(åä¸­å…«ä¹)", meaning: "ê±°ì˜ ëŒ€ë¶€ë¶„.", origin: "ì†ì–´" },
        { term: "ì•„ì „ì¸ìˆ˜(æˆ‘ç”°å¼•æ°´)", meaning: "ìê¸°ì—ê²Œë§Œ ì´ë¡­ê²Œ í•¨.", origin: "ë§¹ì" },
        { term: "ì–´ë¶€ì§€ë¦¬(æ¼å¤«ä¹‹åˆ©)", meaning: "ë‘˜ì´ ë‹¤íˆ¬ë‹¤ ì œì‚¼ìê°€ ì´ìµ ë´„.", origin: "ì „êµ­ì±…" },
        { term: "ì–¸í–‰ì¼ì¹˜(è¨€è¡Œä¸€è‡´)", meaning: "ë§ê³¼ í–‰ë™ì´ í•˜ë‚˜ë¡œ ë§ìŒ.", origin: "ë…¼ì–´" },
        { term: "ì˜¤ë¦¬ë¬´ì¤‘(äº”é‡Œéœ§ä¸­)", meaning: "ê°ˆ ë°”ë¥¼ ëª¨ë¥´ê³  í—¤ë§´.", origin: "í›„í•œì„œ" },
        { term: "ìš°ì™•ì¢Œì™•(å³å¾€å·¦å¾€)", meaning: "ì´ë¦¬ì €ë¦¬ í—ˆë‘¥ëŒ.", origin: "í•œì„œ" },
        { term: "ìœ ë¹„ë¬´í™˜(æœ‰å‚™ç„¡æ‚£)", meaning: "ë¯¸ë¦¬ ì¤€ë¹„í•˜ë©´ ê·¼ì‹¬ ì—†ìŒ.", origin: "ì„œê²½" },
        { term: "ìœ ìœ ìƒì¢…(é¡é¡ç›¸å¾)", meaning: "ê°™ì€ ë¬´ë¦¬ë¼ë¦¬ ëª¨ì„.", origin: "í•œì„œ" },
        { term: "ì´ì‹¬ì „ì‹¬(ä»¥å¿ƒå‚³å¿ƒ)", meaning: "ë§í•˜ì§€ ì•Šì•„ë„ ë§ˆìŒì´ í†µí•¨.", origin: "ì„ ì¢…" },
        { term: "ì´ì—´ì¹˜ì—´(ä»¥ç†±æ²»ç†±)", meaning: "ê°™ì€ ì„±ì§ˆë¡œ ë‹¤ìŠ¤ë¦¼.", origin: "ì˜ì„œ ê´€ìš©" },
        { term: "ì´ëª©êµ¬ë¹„(è€³ç›®å£é¼»)", meaning: "ì‚¬ëŒì˜ ì–¼êµ´ ìƒê¹€ìƒˆ.", origin: "í•œì" },
        { term: "ì¼ì„ì´ì¡°(ä¸€çŸ³äºŒé³¥)", meaning: "í•œ ë²ˆì— ë‘ ê°€ì§€ ì´ìµ.", origin: "ì„œì–‘ê²©ì–¸ ë²ˆì—­" },
        { term: "ì¼ì·¨ì›”ì¥(æ—¥å°±æœˆå°‡)", meaning: "ë‚ ë¡œ ë‹¬ë¡œ ë°œì „í•¨.", origin: "ì„œê²½" },
        { term: "ì‘ì‹¬ì‚¼ì¼(ä½œå¿ƒä¸‰æ—¥)", meaning: "ê²°ì‹¬ì´ ì˜¤ë˜ê°€ì§€ ëª»í•¨.", origin: "ì†ë‹´" },
        { term: "ìì—…ìë“(è‡ªæ¥­è‡ªå¾—)", meaning: "ìê¸°ê°€ í•œ ëŒ€ë¡œ ì–»ìŒ.", origin: "ë¶ˆêµ" },
        { term: "ìì¤‘ì§€ë€(è‡ªä¸­ä¹‹äº‚)", meaning: "ê°™ì€ í¸ ì•ˆì—ì„œì˜ í˜¼ë€.", origin: "ì‚¬ê¸°" },
        { term: "ì „ì „ê¸ê¸(æˆ°æˆ°å…¢å…¢)", meaning: "ë‘ë ¤ì›Œ ë²Œë²Œ ë–¨ë©° ì¡°ì‹¬í•¨.", origin: "ì‹œê²½" },
        { term: "ì¡°ì‚¼ëª¨ì‚¬(æœä¸‰æš®å››)", meaning: "ë³¸ì§ˆì€ ê°™ìŒì„ ëª¨ë¥´ëŠ” ì–´ë¦¬ì„ìŒ.", origin: "ì¥ì" },
        { term: "ì¢Œì¶©ìš°ëŒ(å·¦è¡å³çª)", meaning: "ì´ë¦¬ì €ë¦¬ ë¶€ë”ªì¹˜ë©° ë¶„ì£¼í•¨.", origin: "ì‚¼êµ­ì§€" },
        { term: "ì£½ë§ˆê³ ìš°(ç«¹é¦¬æ•…å‹)", meaning: "ì–´ë¦´ ì ë¶€í„°ì˜ ë²—.", origin: "ì‹œê²½" },
        { term: "ì¤‘êµ¬ë‚œë°©(è¡†å£é›£é˜²)", meaning: "ì—¬ëŸ¬ ë§ì´ ì œê°ê°ì„.", origin: "ëª…ëŒ€ ì†Œì„¤" },
        { term: "ì²œê³ ë§ˆë¹„(å¤©é«˜é¦¬è‚¥)", meaning: "ê°€ì„ í•˜ëŠ˜ ë†’ê³  ë§ ì‚´ì°œ.", origin: "ë‹¹ì‹œ" },
        { term: "ì²œìš°ì‹ ì¡°(å¤©ä½‘ç¥åŠ©)", meaning: "í•˜ëŠ˜ê³¼ ì‹ ì˜ ë„ì›€.", origin: "ê´€ìš©" },
        { term: "ì²­ì¶œì–´ëŒ(é‘å‡ºæ–¼è—)", meaning: "ì œìê°€ ìŠ¤ìŠ¹ë³´ë‹¤ ë‚˜ìŒ.", origin: "ìˆœì" },
        { term: "ì´ˆì§€ì¼ê´€(åˆå¿—ä¸€è²«)", meaning: "ì²˜ìŒ ëœ»ì„ ëê¹Œì§€ ë°€ê³  ë‚˜ê°.", origin: "í›„í•œì„œ" },
        { term: "ì¹¨ì†Œë´‰ëŒ€(é‡å°æ£’å¤§)", meaning: "ì‘ì€ ì¼ì„ í¬ê²Œ ê³¼ì¥í•¨.", origin: "ì†ì–´" },
        { term: "í† ì‚¬êµ¬íŒ½(åœŸæ²™ç‹—çƒ¹)", meaning: "ì“¸ ë•ŒëŠ” ì“°ê³  ë²„ë¦¼.", origin: "ì‚¬ê¸°" },
        { term: "íŒŒì£½ì§€ì„¸(ç ´ç«¹ä¹‹å‹¢)", meaning: "ëŒ€ë‚˜ë¬´ ìª¼ê°œë“¯ ê±°ì¹¨ì—†ì´ ë‚˜ì•„ê°.", origin: "ì§„ì„œ" },
        { term: "í‘œë¦¬ë¶€ë™(è¡¨è£ä¸åŒ)", meaning: "ê²‰ê³¼ ì†ì´ ë‹¤ë¦„.", origin: "í›„í•œì„œ" },
        { term: "í•™ìˆ˜ê³ ëŒ€(é¶´é¦–è‹¦å¾…)", meaning: "í•™ì²˜ëŸ¼ ëª©ì„ ë¹¼ê³  ê°„ì ˆíˆ ê¸°ë‹¤ë¦¼.", origin: "ì‹œê²½" },
        { term: "í—ˆì‹¬íƒ„íšŒ(è™›å¿ƒå¦æ‡·)", meaning: "ìˆ¨ê¹€ì—†ì´ ì†”ì§í•¨.", origin: "ëª…ì‹¬ë³´ê°" },
        { term: "í™˜ê³¨íƒˆíƒœ(æ›éª¨å¥ªèƒ)", meaning: "ì™„ì „íˆ ìƒˆë¡œì›Œì§.", origin: "ì†¡ëŒ€" },
        { term: "í›„íšŒë§‰ê¸‰(å¾Œæ‚”è«åŠ)", meaning: "ë‰˜ìš°ì³ë„ ì´ë¯¸ ëŠ¦ìŒ.", origin: "í•œì„œ" }
      ];

      // === ë·° ìƒíƒœ ===
      const search = document.getElementById('search');
      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');
      const soundToggle = document.getElementById('soundToggle');

      let allIdx = [...Array(idioms.length).keys()];
      let order = shuffle([...allIdx]);
      let idx = 0;
      let backShown = false;

      function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

      function applyFilter(){
        const q = (search.value||'').trim().toLowerCase();
        const filtered = allIdx.filter(i => `${idioms[i].term} ${idioms[i].meaning} ${idioms[i].origin}`.toLowerCase().includes(q));
        order = shuffle([...filtered]);
        idx = 0; backShown = false; card.classList.remove('is-flipped');
        showCard();
      }

      function showCard(){
        if(order.length === 0){
          front.innerHTML = `<div style='font-size:18px'>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
          back.innerHTML = `<div class='muted'>ë‹¤ë¥¸ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.</div>`;
          meta.innerText = `0 / ${idioms.length}`;
          return;
        }
        const cur=idioms[order[idx]];
        front.innerHTML=`<div style='font-size:44px;font-weight:800;letter-spacing:1px;'>${cur.term}</div><div style='margin-top:12px;font-size:16px;opacity:0.6;'>ì¹´ë“œë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë’¤ì§‘ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ ëœ» ë³´ê¸°</div>`;
        back.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.meaning}</div><div style='margin-top:10px;font-size:15px;opacity:0.7;'>ìœ ë˜: ${cur.origin}</div>`;
        meta.innerText=`ì¹´ë“œ ${idx+1}/${order.length} Â· ì „ì²´ ${idioms.length}`;
      }

      function flipCard(){ card.classList.toggle('is-flipped'); playSound(); backShown=!backShown; }
      function next(){ if(order.length===0) return; backShown=false; card.classList.remove('is-flipped'); idx=(idx+1)%order.length; showCard(); }
      function prev(){ if(order.length===0) return; backShown=false; card.classList.remove('is-flipped'); idx=(idx-1+order.length)%order.length; showCard(); }
      function reshuffle(){ if(order.length===0) return; order = shuffle(order); idx=0; backShown=false; card.classList.remove('is-flipped'); showCard(); }

      function playSound(){
        if(!soundToggle.checked) return;
        const ctx=new (window.AudioContext||window.webkitAudioContext)();
        const osc=ctx.createOscillator(); const gain=ctx.createGain();
        const now=ctx.currentTime; osc.type='triangle';
        osc.frequency.setValueAtTime(300,now); osc.frequency.exponentialRampToValueAtTime(800,now+0.15);
        gain.gain.setValueAtTime(0.2,now); gain.gain.exponentialRampToValueAtTime(0.001,now+0.15);
        osc.connect(gain).connect(ctx.destination); osc.start(now); osc.stop(now+0.15);
      }

      document.getElementById('flip').onclick=flipCard;
      document.getElementById('next').onclick=next;
      document.getElementById('prev').onclick=prev;
      document.getElementById('shuffle').onclick=reshuffle;
      card.onclick=flipCard;
      search.addEventListener('input', applyFilter);

      showCard();
    </script>
  </body>
</html>
